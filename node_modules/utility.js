
var fs = require('fs');

var host = fs.readFileSync("../host.txt");
var port = (host == "localhost") ? 8000 : 80;

module.exports = {
	host : host,
	port : port,

	subdomain : function(url) {
		var pattern_string = /(.*.?)(aceeri\.com|localhost:8000)/;
		/*if (host == 'localhost') {
			pattern_string = /(.*.?)localhost/;
		} else {
			pattern_string = /(.*.?)aceeri.com/;
		}*/
		var pattern = new RegExp(pattern_string);
		var match = url.match(pattern);

		return match == undefined ? "" : match[1].slice(0, match[1].length - 1);
	},

	redirect_www : function(req, res) {
		res.redirect(301, req.protocol + '://www.' + host + ":" + port + req.originalUrl);
	}
}